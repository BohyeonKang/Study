### Chapter 1. 베이즈 이론

#### 쿠키 문제

2개의 쿠키 그릇이 있다.
첫 번째 그릇에는 바닐라 쿠키 30개와 초콜렛 쿠키 10개가 있고,
두 번째 그릇에는 두 가지 쿠키가 20개씩 있다.

어떤 그릇인지 보지 않고 임의로 1개의 쿠키를 집었는데 바닐라 쿠키였다.
그렇다면 그릇1에서 나왔을 가능성은 ?

- P(B1) : 그릇 1에서 뽑을 확률 (1/2)
- P(B2) : 그릇 2에서 뽑을 확률 (1/2)
- P(V) : 바닐라 쿠키를  뽑을 확률 ((1/2) * (3/4) + (1/2) * (2/4) = 3/8 + 2/8 = 5/8)

```
P(V) * P(B1|V) = P(B1) * P(V|B1)

P(B1|V) = P(B1) * P(V|B1) / P(V)
        = (1/2) * (3/4) / 5/8
        = 3/5
```

#### M&M 문제

1995년 이전의 M&M 봉지에는 갈색 30%, 노랑 20%, 빨강 20%, 녹색 10%, 주황 10%, 황갈색 10%가 들어있었다.
이후에는 파란색이 추가되어 파랑 24%, 녹색 20%, 주황 16%, 노랑 14%, 빨강 13%, 갈색 14%가 되었다.
한 친구가 M&M을 두 봉지 샀는데 각각 1994, 1996년에 생산된 것이었다.
각 봉지에서 하나씩 꺼냈을 때 한 알은 노랑색이고 한 알은 녹색이었다.
이때 노랑 초콜렛이 1994년에 생산한 봉지에서 나올 확률은 ?

- M4 : 1994년 봉지를 고를 확률 (1/2)
- M6 : 1996년 봉지를 고를 확률 (1/2)
- P(Y4) = P(Y|M4) : 1994년 봉지에서 노랑을 고를 확률 0.2
- P(Y6) = P(Y|M6) : 1996년 봉지에서 노랑을 고를 확률 0.14
- P(G4) = P(G|M4) : 1994년 봉지에서 녹색을 고를 확률 0.1
- P(G6) = P(G|M6) : 1994년 봉지에서 녹색을 고를 확률 0.2

각 봉지에서 노랑과 녹색을 하나씩 고를 확률은 각 봉지에서 해당 색을 고를 확률을 더하면 됨.

```
P(YG) = P(Y|M4) * P(G|M6) + P(G|M4) * P(Y|M6)
      = 0.2 * 0.2 + 0.1 * 0.14
      = 0.04 + 0.014
      = 0.054
```

그럼 여기에 베이지안 정리를 적용하면

```
P(YG) * P(Y4|YG) = P(Y4) * P(YG|Y4)

P(Y4|YG) = P(Y4) * P(YG|Y4) / P(YG)
         = 0.2 * P(G6) / 0.054
         = 0.2 * 0.2 / 0.054
         = 0.04 / 0.054
         = 20/27 
```

정답은 `20/27`

하지만 책이나 대부분의 다른 곳(ex. <http://www.ecogwiki.com/Bayes_theorem> )에서는 다른 방법으로 풀이를 했음. 

조금 쉽게 풀이하자면

1. 가설을 나눠서 각각의 확률을 구함. (A, B)
2. 그 확률의 합을 전체 일어날 확률로 가정. P(D)
3. A 혹은 B의 확률을 P(D)로 나누면 원하는 값을 구할 수 있음

- 가설 A : Y가 M4에서 나왔고, G가 M6에서 나왔을 경우
- 가설 B : Y가 M6에서 나왔고, G가 M4에서 나왔을 경우

- P(H) * P(D|H)
  - P(A) : P(Y4) * P(G6) = 0.2 * 0.2 = 0.04
  - P(B) : P(Y6) * P(G6) = 0.14 * 0.1 = 0.014
- P(D) = P(A) + P(B) = 0.04 + 0.014

그러므로

- P(H|D) = P(H) * P(D|H) / P(D)
  - 가설 A : 20/27
  - 가설 B :  7/27
